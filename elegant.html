<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link
  href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Cinzel&family=Poppins&family=Cormorant+Garamond&family=Quicksand&family=Comfortaa&family=Josefin+Sans&family=Playfair+Display&family=Oswald&family=Fjalla+One&family=BIZ+UDGothic&family=BIZ+UDPGothic&family=Old+Standard+TT&family=Noto+Serif&family=Crimson+Text&family=Kameron&family=Copse&family=Titillium+Web&family=Graduate&family=Changa+One&family=Special+Elite&family=Stardos+Stencil&family=Iceland&family=Ultra&family=Sankofa+Display&family=Edu+VIC+WA+NT+Beginner:wght@400;500;600;700&family=Kalnia+Glaze:wght@300;400;500;600;700&family=Shadows+Into+Light&family=Fredericka+the+Great&family=Orbitron:wght@400;500;600;700;800;900&family=Parisienne&family=Antic+Didone&family=EB+Garamond&family=Cormorant&family=Montserrat&family=Lato&family=Hind&family=Questrial&family=Anton&family=Libre+Baskerville&family=Roboto&family=Open+Sans&family=Jost&display=swap"
  rel="stylesheet">
<title>アナログ時計 Ver2.6.1</title>
</head>
<body>
<center>
<svg id="clock" width="200" height="200" viewBox="0 0 100 100">
<defs>

                <radialGradient id="faceGradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                <stop offset="0%" stop-color="#1f479e"/>
                <stop offset="70%" stop-color="#0a1f4d"/>
                <stop offset="100%" stop-color="#000000"/>
                </radialGradient>
            
<linearGradient id="borderGradient" x1="90%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#edd484"/>
    <stop offset="50%" stop-color="#d4af37"/>
    <stop offset="100%" stop-color="#907315"/>

          </linearGradient>
<linearGradient id="innerBorderGradient" x1="90%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#0c40b1"/>
    <stop offset="50%" stop-color="#0a1f4d"/>
    <stop offset="100%" stop-color="#000000"/>

          </linearGradient>
<style>
  body::-webkit-scrollbar {
        display: none;
    }
  .clock-face { 
    fill: url(#faceGradient); 
    stroke: url(#borderGradient); 
    stroke-width: 8; 
  }
  .inner-border {
    fill: none;
    stroke: url(#innerBorderGradient);
    stroke-width: 0.9;
  }
  .tick { stroke: #d4af37; }
  .number { fill: #f0f0f0; font-size: 7.4px; font-family: Antic Didone; text-anchor: middle; dominant-baseline: central; }
  .date-bg { fill: #f0f0f0; }
  .date { fill: #ffffff; font-size: 5.5px; font-family: Antic Didone; text-anchor: middle; dominant-baseline: central; }
  .day-bg { fill: #f0f0f0; }
  .day { fill: #ffffff; font-size: 5.5px; font-family: Antic Didone; text-anchor: middle; dominant-baseline: central; }
  .logo { fill: #d4af37; font-size: 14.7px; font-family: Antic Didone; text-anchor: middle; dominant-baseline: central; }
  .center-dot { fill: #a58520; }
</style>
</defs>
<circle class="clock-face" cx="50" cy="50" r="45"/>
<circle class="inner-border" cx="50" cy="50" r="42.5"/>
<g id="ticks">
<line class="tick" x1="90" y1="50" x2="86.4" y2="50" stroke-width="0.6"/><line class="tick" x1="89.78" y1="54.18" x2="87.79" y2="53.97" stroke-width="0.3"/><line class="tick" x1="89.13" y1="58.32" x2="87.17" y2="57.9" stroke-width="0.3"/><line class="tick" x1="88.04" y1="62.36" x2="86.14" y2="61.74" stroke-width="0.3"/><line class="tick" x1="86.54" y1="66.27" x2="84.71" y2="65.46" stroke-width="0.3"/><line class="tick" x1="84.64" y1="70" x2="81.52" y2="68.2" stroke-width="0.6"/><line class="tick" x1="82.36" y1="73.51" x2="80.74" y2="72.34" stroke-width="0.3"/><line class="tick" x1="79.73" y1="76.77" x2="78.24" y2="75.43" stroke-width="0.3"/><line class="tick" x1="76.77" y1="79.73" x2="75.43" y2="78.24" stroke-width="0.3"/><line class="tick" x1="73.51" y1="82.36" x2="72.34" y2="80.74" stroke-width="0.3"/><line class="tick" x1="70" y1="84.64" x2="68.2" y2="81.52" stroke-width="0.6"/><line class="tick" x1="66.27" y1="86.54" x2="65.46" y2="84.71" stroke-width="0.3"/><line class="tick" x1="62.36" y1="88.04" x2="61.74" y2="86.14" stroke-width="0.3"/><line class="tick" x1="58.32" y1="89.13" x2="57.9" y2="87.17" stroke-width="0.3"/><line class="tick" x1="54.18" y1="89.78" x2="53.97" y2="87.79" stroke-width="0.3"/><line class="tick" x1="50" y1="90" x2="50" y2="86.4" stroke-width="0.6"/><line class="tick" x1="45.82" y1="89.78" x2="46.03" y2="87.79" stroke-width="0.3"/><line class="tick" x1="41.68" y1="89.13" x2="42.1" y2="87.17" stroke-width="0.3"/><line class="tick" x1="37.64" y1="88.04" x2="38.26" y2="86.14" stroke-width="0.3"/><line class="tick" x1="33.73" y1="86.54" x2="34.54" y2="84.71" stroke-width="0.3"/><line class="tick" x1="30" y1="84.64" x2="31.8" y2="81.52" stroke-width="0.6"/><line class="tick" x1="26.49" y1="82.36" x2="27.66" y2="80.74" stroke-width="0.3"/><line class="tick" x1="23.23" y1="79.73" x2="24.57" y2="78.24" stroke-width="0.3"/><line class="tick" x1="20.27" y1="76.77" x2="21.76" y2="75.43" stroke-width="0.3"/><line class="tick" x1="17.64" y1="73.51" x2="19.26" y2="72.34" stroke-width="0.3"/><line class="tick" x1="15.36" y1="70" x2="18.48" y2="68.2" stroke-width="0.6"/><line class="tick" x1="13.46" y1="66.27" x2="15.29" y2="65.46" stroke-width="0.3"/><line class="tick" x1="11.96" y1="62.36" x2="13.86" y2="61.74" stroke-width="0.3"/><line class="tick" x1="10.87" y1="58.32" x2="12.83" y2="57.9" stroke-width="0.3"/><line class="tick" x1="10.22" y1="54.18" x2="12.21" y2="53.97" stroke-width="0.3"/><line class="tick" x1="10" y1="50" x2="13.6" y2="50" stroke-width="0.6"/><line class="tick" x1="10.22" y1="45.82" x2="12.21" y2="46.03" stroke-width="0.3"/><line class="tick" x1="10.87" y1="41.68" x2="12.83" y2="42.1" stroke-width="0.3"/><line class="tick" x1="11.96" y1="37.64" x2="13.86" y2="38.26" stroke-width="0.3"/><line class="tick" x1="13.46" y1="33.73" x2="15.29" y2="34.54" stroke-width="0.3"/><line class="tick" x1="15.36" y1="30" x2="18.48" y2="31.8" stroke-width="0.6"/><line class="tick" x1="17.64" y1="26.49" x2="19.26" y2="27.66" stroke-width="0.3"/><line class="tick" x1="20.27" y1="23.23" x2="21.76" y2="24.57" stroke-width="0.3"/><line class="tick" x1="23.23" y1="20.27" x2="24.57" y2="21.76" stroke-width="0.3"/><line class="tick" x1="26.49" y1="17.64" x2="27.66" y2="19.26" stroke-width="0.3"/><line class="tick" x1="30" y1="15.36" x2="31.8" y2="18.48" stroke-width="0.6"/><line class="tick" x1="33.73" y1="13.46" x2="34.54" y2="15.29" stroke-width="0.3"/><line class="tick" x1="37.64" y1="11.96" x2="38.26" y2="13.86" stroke-width="0.3"/><line class="tick" x1="41.68" y1="10.87" x2="42.1" y2="12.83" stroke-width="0.3"/><line class="tick" x1="45.82" y1="10.22" x2="46.03" y2="12.21" stroke-width="0.3"/><line class="tick" x1="50" y1="10" x2="50" y2="13.6" stroke-width="0.6"/><line class="tick" x1="54.18" y1="10.22" x2="53.97" y2="12.21" stroke-width="0.3"/><line class="tick" x1="58.32" y1="10.87" x2="57.9" y2="12.83" stroke-width="0.3"/><line class="tick" x1="62.36" y1="11.96" x2="61.74" y2="13.86" stroke-width="0.3"/><line class="tick" x1="66.27" y1="13.46" x2="65.46" y2="15.29" stroke-width="0.3"/><line class="tick" x1="70" y1="15.36" x2="68.2" y2="18.48" stroke-width="0.6"/><line class="tick" x1="73.51" y1="17.64" x2="72.34" y2="19.26" stroke-width="0.3"/><line class="tick" x1="76.77" y1="20.27" x2="75.43" y2="21.76" stroke-width="0.3"/><line class="tick" x1="79.73" y1="23.23" x2="78.24" y2="24.57" stroke-width="0.3"/><line class="tick" x1="82.36" y1="26.49" x2="80.74" y2="27.66" stroke-width="0.3"/><line class="tick" x1="84.64" y1="30" x2="81.52" y2="31.8" stroke-width="0.6"/><line class="tick" x1="86.54" y1="33.73" x2="84.71" y2="34.54" stroke-width="0.3"/><line class="tick" x1="88.04" y1="37.64" x2="86.14" y2="38.26" stroke-width="0.3"/><line class="tick" x1="89.13" y1="41.68" x2="87.17" y2="42.1" stroke-width="0.3"/><line class="tick" x1="89.78" y1="45.82" x2="87.79" y2="46.03" stroke-width="0.3"/>
</g>
<g id="numbers">
<text class="number" x="50" y="18" transform="rotate(0 50 18)">XII</text><text class="number" x="66" y="22.29" transform="rotate(30 66 22.29)">I</text><text class="number" x="77.71" y="34" transform="rotate(60 77.71 34)">II</text><text class="number" x="82" y="50" transform="rotate(90 82 50)">III</text><text class="number" x="77.71" y="66" transform="rotate(120 77.71 66)">IIII</text><text class="number" x="66" y="77.71" transform="rotate(150 66 77.71)">V</text><text class="number" x="50" y="82" transform="rotate(180 50 82)">VI</text><text class="number" x="34" y="77.71" transform="rotate(210 34 77.71)">VII</text><text class="number" x="22.29" y="66" transform="rotate(240 22.29 66)">VIII</text><text class="number" x="18" y="50" transform="rotate(270 18 50)">IX</text><text class="number" x="22.29" y="34" transform="rotate(300 22.29 34)">X</text><text class="number" x="34" y="22.29" transform="rotate(330 34 22.29)">XI</text>
</g>
<g id="date">

<text id="date-text" class="date" x="50" y="63"></text>
</g>
<g id="day">

<text id="day-text" class="day" x="50" y="70"></text>
</g>
<text class="logo" x="50" y="31">♔</text>
<g id="hour"></g>
<g id="minute"></g>
<g id="second"></g>
<circle class="center-dot" cx="50" cy="50" r="3"/>
</svg>
<script>
const s = {"faceColor":"#0a1f4d","borderColor":"#d4af37","borderWidth":"8","numberColor":"#f0f0f0","hourHandColor":"#d4af37","minuteHandColor":"#d4af37","secondHandColor":"#c0c0c0","dateColor":"#ffffff","dayColor":"#ffffff","dateFont":"Antic Didone","dateFontSize":"5.5","dayFont":"Antic Didone","dayFontSize":"5.5","dateBackgroundColor":"#f0f0f0","dayBackgroundColor":"#f0f0f0","size":"200","fontSize":"7.4","showDate":true,"showDay":true,"showTicks":true,"tickColor":"#d4af37","majorTickLength":"3.6","minorTickLength":"2","majorTickWidth":"0.6","smoothSecond":true,"logo":"♔","logoSize":"14.7","logoPosition":"31","font":"Antic Didone","logoFont":"Antic Didone","logoColor":"#d4af37","centerDotColor":"#a58520","centerDotSize":3,"hourHandShape":"breguet","minuteHandShape":"losange","secondHandShape":"arrow","hourHandLength":"25","hourHandWidth":"3.2","minuteHandLength":"38","minuteHandWidth":"1.6","secondHandLength":"41","secondHandWidth":"1.4","showNumbers":true,"showLogo":true,"numberPosition":"32","dateBackgroundWidth":"16","dateBackgroundHeight":"9","dayBackgroundWidth":"13","dayBackgroundHeight":"9","datePositionX":"50","datePositionY":"63","dayPositionX":50,"dayPositionY":"70","tickPosition":"40","faceMaterial":"radial","borderMaterial":"glossy","hourHandTailLength":"0","minuteHandTailLength":"0","secondHandTailLength":"18","showDateBackground":false,"showDayBackground":false,"innerBorderColor":"#0a1f4d","innerBorderWidth":"0.9","innerBorderPosition":"42.5","innerBorderMaterial":"glossy","showInnerBorder":true,"timezone":"local","numberPattern":"roman","importFile":"C:\\fakepath\\elegant-watch-design.json"};
const romanNumerals = ['XII', 'I', 'II', 'III', 'IIII', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI'];
const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];

function hexToHSL(hex) {
      let r = parseInt(hex.slice(1, 3), 16) / 255;
      let g = parseInt(hex.slice(3, 5), 16) / 255;
      let b = parseInt(hex.slice(5, 7), 16) / 255;

      let max = Math.max(r, g, b);
      let min = Math.min(r, g, b);
      let h, s, l = (max + min) / 2;

      if (max === min) {
        h = s = 0; // achromatic
      } else {
        let d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch (max) {
          case r: h = (g - b) / d + (g < b ? 6 : 0); break;
          case g: h = (b - r) / d + 2; break;
          case b: h = (r - g) / d + 4; break;
        }
        h /= 6;
      }

      return [h * 360, s * 100, l * 100];
    }

function hslToHex(h, s, l) {
      l /= 100;
      const a = s * Math.min(l, 1 - l) / 100;
      const f = n => {
        const k = (n + h / 30) % 12;
        const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
        return Math.round(255 * color).toString(16).padStart(2, '0');
      };
      return `#${f(0)}${f(8)}${f(4)}`;
    }

function getCustomGradient(color, elementId, type, isBorder = false) {
      const [h, s, l] = hexToHSL(color);
      const angle = isBorder ? '90' : '0';
      let gradient;

      switch (type) {
        case 'glossy':
          const lighterColor = hslToHex(h, Math.min(100, s + 10), Math.min(100, l + 20));
          const darkerColor = hslToHex(h, Math.min(100, s + 10), Math.max(0, l - 20));
          gradient = `<stop offset="0%" stop-color="${lighterColor}"/>
    <stop offset="50%" stop-color="${color}"/>
    <stop offset="100%" stop-color="${darkerColor}"/>
`;
          break;
        case 'metallic':
          const metallicLight = hslToHex(h, Math.min(100, s - 10), Math.min(100, l + 30));
          const metallicDark = hslToHex(h, Math.min(100, s + 20), Math.max(0, l - 30));
          gradient = `
    <stop offset="0%" stop-color="${metallicLight}"/>
    <stop offset="20%" stop-color="${color}"/>
    <stop offset="50%" stop-color="${metallicDark}"/>
    <stop offset="80%" stop-color="${color}"/>
    <stop offset="100%" stop-color="${metallicLight}"/>
`;
          break;
        case 'pearl':
          const pearlLight = hslToHex(h, Math.max(0, s - 20), Math.min(100, l + 15));
          gradient = `
    <stop offset="0%" stop-color="${pearlLight}"/>
                <stop offset="25%" stop-color="${color}"/>
                <stop offset="50%" stop-color="${pearlLight}"/>
                <stop offset="75%" stop-color="${color}"/>
                <stop offset="100%" stop-color="${pearlLight}"/>
            `;
          break;
        case 'satin':
          const satinLight = hslToHex(h, Math.min(100, s + 5), Math.min(100, l + 10));
          const satinDark = hslToHex(h, Math.min(100, s + 10), Math.max(0, l - 10));
          gradient = `
                <stop offset="0%" stop-color="${satinLight}"/>
                <stop offset="40%" stop-color="${color}"/>
                <stop offset="60%" stop-color="${satinDark}"/>
                <stop offset="100%" stop-color="${color}"/>
            `;
          break;

        case 'radial':
          const radialLight = hslToHex(h, Math.min(100, s - 10), Math.min(100, l + 20));
          const radialDark = hslToHex(h, Math.min(100, s + 10), Math.max(0, l - 20));
          gradient = `
                <radialGradient id="${elementId}" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                <stop offset="0%" stop-color="${radialLight}"/>
                <stop offset="70%" stop-color="${color}"/>
                <stop offset="100%" stop-color="${radialDark}"/>
                </radialGradient>
            `;
          return gradient;  // radialGradientの場合は直接返す

        case 'radial-highlight':
          const highlightColor = hslToHex(h, Math.max(0, s - 20), Math.min(100, l + 30));
          const midColor = hslToHex(h, s, l);
          const edgeColor = hslToHex(h, Math.min(100, s + 10), Math.max(0, l - 20));
          gradient = `
                <radialGradient id="${elementId}" cx="30%" cy="30%" r="70%" fx="15%" fy="15%">
                <stop offset="0%" stop-color="${highlightColor}"/>
                <stop offset="50%" stop-color="${midColor}"/>
                <stop offset="100%" stop-color="${edgeColor}"/>
                </radialGradient>
            `;
          return gradient;

        default:
          return '';
      }

      // 線形グラデーションの場合（既存のコード）
      return `<linearGradient id="${elementId}" x1="${isBorder ? '90' : '0'}%" y1="0%" x2="${isBorder ? '0' : '100'}%" y2="100%">
            ${gradient}
          </linearGradient>`;
    }

function drawHand(type, angle, length, width, color, shape, tailLength = 0) {
      try {
        const rad = angle * Math.PI / 180;
        const x2 = 50 + length * Math.sin(rad);
        const y2 = 50 - length * Math.cos(rad);
        const tailX = 50 - tailLength * Math.sin(rad);
        const tailY = 50 + tailLength * Math.cos(rad);

        switch (shape) {
          case 'line':
            return `<line x1="${tailX}" y1="${tailY}" x2="${x2}" y2="${y2}" stroke="${color}" stroke-width="${width}" stroke-linecap="round"/>`;
          case 'triangle':
            const baseWidth = width * 2;
            const x3 = 50 + (baseWidth / 2) * Math.cos(rad);
            const y3 = 50 + (baseWidth / 2) * Math.sin(rad);
            const x4 = 50 - (baseWidth / 2) * Math.cos(rad);
            const y4 = 50 - (baseWidth / 2) * Math.sin(rad);
            return `<path d="M${tailX},${tailY} L${x3},${y3} L${x2},${y2} L${x4},${y4} Z" fill="${color}"/>`;

          case 'arrow':
            const arrowTipLength = length * 0.25; // 矢印の先端の長さ
            const arrowBodyMaxWidth = width * 0.6; // 軸の最大幅（中央部分）
            const arrowBodyMinWidth = width * 0.3; // 軸の最小幅（端部分）
            const arrowTipWidth = width; // 矢印の先端の幅
            const maxArrowTailLength = length * 0.7; // 最大尻尾の長さ
            const actualArrowTailLength = Math.min(tailLength, maxArrowTailLength); // 実際の尻尾の長さ

            // V字型の矢印の先端部分
            const arrowTipPath = `
            M50,${50 - length}
            L${50 - arrowTipWidth / 2},${50 - length + arrowTipLength}
            H${50 - arrowBodyMinWidth / 2}
            V50
            H${50 + arrowBodyMinWidth / 2}
            V${50 - length + arrowTipLength}
            H${50 + arrowTipWidth / 2}
            Z
            `;

            // 中央が太い軸
            const arrowShaftPath = `
            M${50 - arrowBodyMinWidth / 2},${50 - length + arrowTipLength}
            Q${50 - arrowBodyMaxWidth / 2},${50 - length / 2} ${50 - arrowBodyMaxWidth / 2},50
            L${50 + arrowBodyMaxWidth / 2},50
            Q${50 + arrowBodyMaxWidth / 2},${50 - length / 2} ${50 + arrowBodyMinWidth / 2},${50 - length + arrowTipLength}
            Z
            `;

            // 尻尾部分（左右対称の形状）
            const arrowTailPath = actualArrowTailLength > 0 ? `
            M${50 - arrowBodyMaxWidth / 2},50
            Q${50 - arrowBodyMaxWidth / 2},${50 + actualArrowTailLength / 2} ${50 - arrowBodyMinWidth / 2},${50 + actualArrowTailLength}
            L${50 + arrowBodyMinWidth / 2},${50 + actualArrowTailLength}
            Q${50 + arrowBodyMaxWidth / 2},${50 + actualArrowTailLength / 2} ${50 + arrowBodyMaxWidth / 2},50
            Z
            ` : '';

            return `
            <g transform="rotate(${angle} 50 50)">
              <path d="${arrowTipPath}" fill="${color}" />
              <path d="${arrowShaftPath}" fill="${color}" />
              ${actualArrowTailLength > 0 ? `<path d="${arrowTailPath}" fill="${color}" />` : ''}
            </g>
            `;

          case 'diamond':
            const diamondWidth = width * 2;
            const midLength = length * 0.33;
            const dmx1 = 50 + midLength * Math.sin(rad) + (diamondWidth / 2) * Math.cos(rad);
            const dmy1 = 50 - midLength * Math.cos(rad) + (diamondWidth / 2) * Math.sin(rad);
            const dmx2 = 50 + midLength * Math.sin(rad) - (diamondWidth / 2) * Math.cos(rad);
            const dmy2 = 50 - midLength * Math.cos(rad) - (diamondWidth / 2) * Math.sin(rad);
            return `<path d="M${tailX},${tailY} L${dmx1},${dmy1} L${x2},${y2} L${dmx2},${dmy2} Z" fill="${color}"/>`;

          case 'baton':
            const batonWidth = width * 2;
            const btmidLength = length * 0.8;
            const btx1 = 50 + btmidLength * Math.sin(rad) + (batonWidth / 2) * Math.cos(rad);
            const bty1 = 50 - btmidLength * Math.cos(rad) + (batonWidth / 2) * Math.sin(rad);
            const btx2 = 50 + btmidLength * Math.sin(rad) - (batonWidth / 2) * Math.cos(rad);
            const bty2 = 50 - btmidLength * Math.cos(rad) - (batonWidth / 2) * Math.sin(rad);
            return `<path d="M${tailX},${tailY} L${btx1},${bty1} L${x2},${y2} L${btx2},${bty2} Z" fill="${color}"/>`;

          case 'losange':
            const lsWidth = width * 2;
            const lsmidLength = length * 0.5;
            const lsx1 = 50 + lsmidLength * Math.sin(rad) + (lsWidth / 2) * Math.cos(rad);
            const lsy1 = 50 - lsmidLength * Math.cos(rad) + (lsWidth / 2) * Math.sin(rad);
            const lsx2 = 50 + lsmidLength * Math.sin(rad) - (lsWidth / 2) * Math.cos(rad);
            const lsy2 = 50 - lsmidLength * Math.cos(rad) - (lsWidth / 2) * Math.sin(rad);
            return `<path d="M${tailX},${tailY} L${lsx1},${lsy1} L${x2},${y2} L${lsx2},${lsy2} Z" fill="${color}"/>`;

          case 'leaf':
            const leafHandWidth = width * 2.5; // 幅を少し調整
            const leafHandLengthRatio = 0.9; // 葉の長さの比率（1に近いほど長くなる）

            // 葉の先端
            const leafHandTipX = 50 + length * leafHandLengthRatio * Math.sin(rad);
            const leafHandTipY = 50 - length * leafHandLengthRatio * Math.cos(rad);

            // 葉の最大幅の位置（根元よりの位置）
            const leafHandWidestPointRatio = 0.5; //根元からの距離の比率
            const leafHandWidestX = 50 + length * leafHandWidestPointRatio * Math.sin(rad);
            const leafHandWidestY = 50 - length * leafHandWidestPointRatio * Math.cos(rad);

            // 制御点（曲線の形状を決定する点）
            const leafHandControlX1 = leafHandWidestX + (leafHandWidth / 2) * Math.cos(rad);
            const leafHandControlY1 = leafHandWidestY + (leafHandWidth / 2) * Math.sin(rad);
            const leafHandControlX2 = leafHandWidestX - (leafHandWidth / 2) * Math.cos(rad);
            const leafHandControlY2 = leafHandWidestY - (leafHandWidth / 2) * Math.sin(rad);

            return `<path d="M${tailX},${tailY} 
        Q${leafHandControlX1},${leafHandControlY1} ${leafHandTipX},${leafHandTipY} 
        Q${leafHandControlX2},${leafHandControlY2} ${tailX},${tailY}" 
        fill="${color}"/>`;

          case 'pentagon':
            const pentagonWidth = width * 1;
            const triangleStart = length * 0.9;
            const p1x = tailX + (pentagonWidth / 2) * Math.cos(rad);
            const p1y = tailY + (pentagonWidth / 2) * Math.sin(rad);
            const p2x = tailX - (pentagonWidth / 2) * Math.cos(rad);
            const p2y = tailY - (pentagonWidth / 2) * Math.sin(rad);
            const p3x = 50 + triangleStart * Math.sin(rad) + (pentagonWidth / 2) * Math.cos(rad);
            const p3y = 50 - triangleStart * Math.cos(rad) + (pentagonWidth / 2) * Math.sin(rad);
            const p4x = 50 + triangleStart * Math.sin(rad) - (pentagonWidth / 2) * Math.cos(rad);
            const p4y = 50 - triangleStart * Math.cos(rad) - (pentagonWidth / 2) * Math.sin(rad);
            return `<path d="M${p1x},${p1y} L${p3x},${p3y} L${x2},${y2} L${p4x},${p4y} L${p2x},${p2y} Z" fill="${color}"/>`;

          case 'jaeger':
            const pencilWidth = width * 1.5;
            const tipRadius = width * 2; // 先端の丸を大きくする
            return `
    <path d="M${tailX},${tailY} L${x2},${y2}" stroke="${color}" stroke-width="${width}" fill="none"/>
    <circle cx="${x2}" cy="${y2}" r="${tipRadius}" fill="${color}"/>
`;

          case 'breguet':
            const breguetTipLength = length * 0.25;
            const breguetBodyMaxWidth = width * 0.6; // 軸の最大幅（中央部分）
            const breguetBodyMinWidth = width * 0.3; // 軸の最小幅（端部分）
            const breguetTipWidth = width * 0.9; // 先端を細く
            const breguetCircleRadius = width * 0.8;
            const breguetCircleStroke = width * 0.24;
            const breguetMaxTailLength = length * 0.7;
            const breguetActualTailLength = Math.min(tailLength, breguetMaxTailLength);

            // 先端の三角部分
            const breguetTipPath = `
M0,${-length}
L${-breguetTipWidth / 2},${-length + breguetTipLength}
H${breguetTipWidth / 2}
Z
`;

            // 大きな円（太い輪郭）
            const breguetCirclePath = `
<circle cx="0" cy="${-length + breguetTipLength + breguetCircleRadius}" 
r="${breguetCircleRadius}" 
fill="none" stroke="${color}" stroke-width="${breguetCircleStroke}" />
`;

            // 中心に向かって太くなる軸
            const breguetShaftPath = `
M${-breguetBodyMinWidth / 2},${-length + breguetTipLength + breguetCircleRadius * 2}
Q${-breguetBodyMaxWidth / 2},${-length / 2} ${-breguetBodyMaxWidth / 2},0
L${breguetBodyMaxWidth / 2},0
Q${breguetBodyMaxWidth / 2},${-length / 2} ${breguetBodyMinWidth / 2},${-length + breguetTipLength + breguetCircleRadius * 2}
Z
`;

            // 尻尾の部分（左右対称の形状）
            const breguetTailPath = breguetActualTailLength > 0 ? `
M${-breguetBodyMaxWidth / 2},0
Q${-breguetBodyMaxWidth / 2},${breguetActualTailLength / 2} ${-breguetBodyMinWidth / 2},${breguetActualTailLength}
L${breguetBodyMinWidth / 2},${breguetActualTailLength}
Q${breguetBodyMaxWidth / 2},${breguetActualTailLength / 2} ${breguetBodyMaxWidth / 2},0
Z
` : '';

            return `
<g transform="translate(50,50) rotate(${angle})">
<path d="${breguetTipPath}" fill="${color}" />
${breguetCirclePath}
<path d="${breguetShaftPath}" fill="${color}" />
${breguetActualTailLength > 0 ? `<path d="${breguetTailPath}" fill="${color}" />` : ''}
</g>
`;

          case 'spade':
            const spadeLengthFactor = 0.25;
            const spadeLength = length * spadeLengthFactor;
            const spadeMaxWidth = width * 0.8;
            const spadeMinWidth = width * 0.4;
            const maxTailLength = length * 0.7;
            const actualTailLength = Math.min(tailLength, maxTailLength);

            // スペードの先端部分
            const spadeTipPath = `
M50,${50 - length}
C${50 - spadeMaxWidth / 2},${50 - length + spadeLength * 0.3} ${50 - spadeMaxWidth},${50 - length + spadeLength * 0.5} ${50 - spadeMaxWidth},${50 - length + spadeLength * 0.7}
Q${50 - spadeMaxWidth},${50 - length + spadeLength} ${50},${50 - length + spadeLength}
Q${50 + spadeMaxWidth},${50 - length + spadeLength} ${50 + spadeMaxWidth},${50 - length + spadeLength * 0.7}
C${50 + spadeMaxWidth},${50 - length + spadeLength * 0.5} ${50 + spadeMaxWidth / 2},${50 - length + spadeLength * 0.3} ${50},${50 - length}
Z
`;

            // 中心に向かって太くなる軸
            const spadeShaftPath = `
M${50 - spadeMinWidth / 2},${50 - length + spadeLength}
Q${50 - spadeMaxWidth / 2},${50 - length / 2} ${50 - spadeMaxWidth / 2},50
L${50 + spadeMaxWidth / 2},50
Q${50 + spadeMaxWidth / 2},${50 - length / 2} ${50 + spadeMinWidth / 2},${50 - length + spadeLength}
Z
`;

            // 左右対称の尻尾部分
            const spadeTailPath = actualTailLength > 0 ? `
M${50 - spadeMaxWidth / 2},50
Q${50 - spadeMaxWidth / 2},${50 + actualTailLength / 2} ${50 - spadeMinWidth / 2},${50 + actualTailLength}
L${50 + spadeMinWidth / 2},${50 + actualTailLength}
Q${50 + spadeMaxWidth / 2},${50 + actualTailLength / 2} ${50 + spadeMaxWidth / 2},50
Z
` : '';

            return `
<g transform="rotate(${angle} 50 50)">
<path d="${spadeTipPath}" fill="${color}" />
<path d="${spadeShaftPath}" fill="${color}" />
${actualTailLength > 0 ? `<path d="${spadeTailPath}" fill="${color}" />` : ''}
</g>
`;

          case 'rectangle':
            const halfWidth = width / 2;
            const tipX1 = x2 + halfWidth * Math.cos(rad);
            const tipY1 = y2 + halfWidth * Math.sin(rad);
            const tipX2 = x2 - halfWidth * Math.cos(rad);
            const tipY2 = y2 - halfWidth * Math.sin(rad);
            const baseX1 = tailX + halfWidth * Math.cos(rad);
            const baseY1 = tailY + halfWidth * Math.sin(rad);
            const baseX2 = tailX - halfWidth * Math.cos(rad);
            const baseY2 = tailY - halfWidth * Math.sin(rad);
            return `
    <polygon points="${tipX1},${tipY1} ${tipX2},${tipY2} ${baseX2},${baseY2} ${baseX1},${baseY1}" fill="${color}"/>
`;
          case 'trapezium':
            const trapWidth = width * 1.5;
            const trapNarrowWidth = width * 0.9;
            const trapMidPoint = length * 0.7;
            const tx1 = tailX + (width / 2) * Math.cos(rad);
            const ty1 = tailY + (width / 2) * Math.sin(rad);
            const tx2 = tailX - (width / 2) * Math.cos(rad);
            const ty2 = tailY - (width / 2) * Math.sin(rad);
            const tx3 = 50 + (trapWidth / 2) * Math.cos(rad);
            const ty3 = 50 + (trapWidth / 2) * Math.sin(rad);
            const tx4 = 50 - (trapWidth / 2) * Math.cos(rad);
            const ty4 = 50 - (trapWidth / 2) * Math.sin(rad);
            const tx5 = x2 + (trapNarrowWidth / 2) * Math.cos(rad);
            const ty5 = y2 + (trapNarrowWidth / 2) * Math.sin(rad);
            const tx6 = x2 - (trapNarrowWidth / 2) * Math.cos(rad);
            const ty6 = y2 - (trapNarrowWidth / 2) * Math.sin(rad);
            return `
    <path d="M${tx1},${ty1} L${tx3},${ty3} L${tx5},${ty5} L${tx6},${ty6} L${tx4},${ty4} L${tx2},${ty2} Z" fill="${color}"/>
`;
          default:
            console.warn(`Unknown hand shape: ${shape}`);
            return '';
        }
      } catch (error) {
        console.error(`Error in drawHand function: ${error.message}`);
        return ''; // エラー時は空の文字列を返す
      }
    }

function getTimezoneOffset(timezone) {
      if (timezone === 'local') {
        return -new Date().getTimezoneOffset();
      } else if (timezone === 'UTC') {
        return 0;
      } else {
        const match = timezone.match(/GMT([+-])(\d+)/);
        if (match) {
          const sign = match[1] === '+' ? 1 : -1;
          const hours = parseInt(match[2], 10);
          return sign * hours * 60;
        }
      }
      return 0;
    }

(value, precision = 2) => Number(parseFloat(value).toFixed(precision))

function u(){
  const n = new Date();
  const timezoneOffset = getTimezoneOffset(s.timezone);
  const localOffset = n.getTimezoneOffset();
  const totalOffset = timezoneOffset + localOffset;
  const adjustedDate = new Date(n.getTime() + totalOffset * 60000);

  const h = adjustedDate.getHours() % 12,
        m = adjustedDate.getMinutes(),
        sc = adjustedDate.getSeconds(),
        ms = adjustedDate.getMilliseconds(),
        ha = (h + m / 60) * 30,
        ma = (m + sc / 60) * 6,
        sa = true ? (sc + ms / 1000) * 6 : sc * 6;

  document.getElementById('hour').innerHTML = drawHand('hour', ha, 25, 3.2, '#d4af37', 'breguet', 0);
  document.getElementById('minute').innerHTML = drawHand('minute', ma, 38, 1.6, '#d4af37', 'losange', 0);
  document.getElementById('second').innerHTML = drawHand('second', sa, 41, 1.4, '#c0c0c0', 'arrow', 18);

  // 日付と曜日の更新を1分ごとに行う
  if (m !== u.lastMinute) {
    document.getElementById('date-text').textContent=`${adjustedDate.getMonth()+1}/${adjustedDate.getDate()}`;
    document.getElementById('day-text').textContent=days[adjustedDate.getDay()];
    u.lastMinute = m;
  }

  if (true) {
    setTimeout(() => requestAnimationFrame(u), 33.33); // FPS設定
  } else {
    setTimeout(u, 1000);
  }
}
u.lastMinute = -1;  // 初期値を-1に設定
u();
</script>
</center>
</body>
</html>
